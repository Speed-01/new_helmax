<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helmax Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: {
                            100: "#1E1E1E",
                            200: "#181818",
                            300: "#141414",
                            400: "#0F0F0F",
                            500: "#0A0A0A"
                        },
                        accent: {
                            primary: "#F59E0B",
                            secondary: "#FBBF24"
                        }
                    }
                }
            }
        }
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #141414;
        }
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #444;
        }
        .transition-all {
            transition-property: all;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }
        .glass-effect {
            background: rgba(20, 20, 20, 0.8);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }
        
        /* Custom animation for sidebar */
        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); }
            to { transform: translateX(-100%); }
        }
        
        .sidebar-open {
            animation: slideIn 0.3s forwards;
        }
        
        .sidebar-closed {
            animation: slideOut 0.3s forwards;
        }
    </style>
</head>
<body class="bg-dark-500 min-h-screen flex text-gray-200">
    <!-- Sidebar -->
    <aside id="sidebar" class="bg-dark-200 w-64 min-h-screen fixed left-0 top-0 transition-all duration-300 ease-in-out z-30 shadow-lg">
        <div class="p-4">
            <div class="flex items-center justify-between mb-8">
                <a href="{% url 'customers' %}" class="flex items-center space-x-2">
                    <span class="text-2xl font-bold bg-gradient-to-r from-accent-secondary to-accent-primary bg-clip-text text-transparent">HELMAX</span>
                </a>
                <button id="closeSidebar" class="text-gray-400 hover:text-white lg:hidden">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <nav class="space-y-1">
                <a href="{% url 'customers' %}" class="flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-dark-100 hover:text-white rounded-lg transition-colors group">
                    <i class="fas fa-users w-5 text-gray-400 group-hover:text-accent-primary transition-colors"></i>
                    <span>Customers</span>
                </a>
                <a href="{% url 'admin_category' %}" class="flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-dark-100 hover:text-white rounded-lg transition-colors group">
                    <i class="fas fa-th-list w-5 text-gray-400 group-hover:text-accent-primary transition-colors"></i>
                    <span>Categories</span>
                </a>
                <a href="{% url 'admin_brand' %}" class="flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-dark-100 hover:text-white rounded-lg transition-colors group">
                    <i class="fas fa-tag w-5 text-gray-400 group-hover:text-accent-primary transition-colors"></i>
                    <span>Brands</span>
                </a>
                <a href="{% url 'adminProducts' %}" class="flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-dark-100 hover:text-white rounded-lg transition-colors group">
                    <i class="fas fa-box w-5 text-gray-400 group-hover:text-accent-primary transition-colors"></i>
                    <span>Products</span>
                </a>
                <a href="{% url 'admin_orders' %}" class="flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-dark-100 hover:text-white rounded-lg transition-colors group">
                    <i class="fas fa-shopping-cart w-5 text-gray-400 group-hover:text-accent-primary transition-colors"></i>
                    <span>Orders</span>
                </a>
                <a href="{% url 'admin_return_requests' %}" class="flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-dark-100 hover:text-white rounded-lg transition-colors group relative">
                    <i class="fas fa-undo w-5 text-gray-400 group-hover:text-accent-primary transition-colors"></i>
                    <span>Return Requests</span>
                    {% if pending_returns_count %}
                    <span class="absolute right-4 bg-red-500 text-white text-xs px-2 py-1 rounded-full">{{ pending_returns_count }}</span>
                    {% endif %}
                </a>
                <a href="{% url 'admin_offers' %}" class="flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-dark-100 hover:text-white rounded-lg transition-colors group">
                    <i class="fas fa-percent w-5 text-gray-400 group-hover:text-accent-primary transition-colors"></i>
                    <span>Offers</span>
                </a>
                <a href="{% url 'admin_coupons' %}" class="flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-dark-100 hover:text-white rounded-lg transition-colors group">
                    <i class="fas fa-ticket-alt w-5 text-gray-400 group-hover:text-accent-primary transition-colors"></i>
                    <span>Coupons</span>
                </a>
                <a href="{% url 'sales_report' %}" class="flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-dark-100 hover:text-white rounded-lg transition-colors group">
                    <i class="fas fa-chart-line w-5 text-gray-400 group-hover:text-accent-primary transition-colors"></i>
                    <span>Sales Report</span>
                </a>
            </nav>
        </div>
    </aside>

    <!-- Overlay for mobile sidebar -->
    <div id="sidebarOverlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden" onclick="closeSidebar()"></div>

    <!-- Main Content Area -->
    <div id="mainContent" class="flex-1 transition-all duration-300 ease-in-out ml-64">
        <!-- Header -->
        <header class="bg-dark-200 border-b border-dark-100 h-16 fixed top-0 right-0 left-64 z-10 transition-all duration-300">
            <div class="flex justify-between h-full px-6 items-center">
                <div>
                    <button id="sidebarToggle" class="text-gray-400 hover:text-white p-2 rounded-md hover:bg-dark-100 transition-colors">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-gray-300 text-sm hidden sm:inline-block">Welcome, Admin</span>
                    <a href="javascript:void(0);" onclick="openModal()" class="flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-red-400 hover:text-red-300 hover:bg-dark-100 transition-colors">
                        <i class="fas fa-sign-out-alt"></i>
                        <span class="hidden sm:inline-block">Logout</span>
                    </a>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="pt-20 p-6">
            {% block content %}
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Dashboard Cards -->
                <div class="bg-dark-200 rounded-lg p-6 shadow-lg border border-dark-100 hover:border-accent-primary transition-colors">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-400 text-sm">Total Customers</p>
                            <h3 class="text-2xl font-bold mt-1">1,245</h3>
                            <p class="text-green-500 text-xs mt-2">↑ 12% from last month</p>
                        </div>
                        <div class="bg-dark-100 p-3 rounded-lg">
                            <i class="fas fa-users text-accent-primary text-xl"></i>
                        </div>
                    </div>
                </div>
                
                <div class="bg-dark-200 rounded-lg p-6 shadow-lg border border-dark-100 hover:border-accent-primary transition-colors">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-400 text-sm">Total Orders</p>
                            <h3 class="text-2xl font-bold mt-1">3,721</h3>
                            <p class="text-green-500 text-xs mt-2">↑ 8% from last month</p>
                        </div>
                        <div class="bg-dark-100 p-3 rounded-lg">
                            <i class="fas fa-shopping-cart text-accent-primary text-xl"></i>
                        </div>
                    </div>
                </div>
                
                <div class="bg-dark-200 rounded-lg p-6 shadow-lg border border-dark-100 hover:border-accent-primary transition-colors">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-400 text-sm">Total Revenue</p>
                            <h3 class="text-2xl font-bold mt-1">$52,489</h3>
                            <p class="text-green-500 text-xs mt-2">↑ 15% from last month</p>
                        </div>
                        <div class="bg-dark-100 p-3 rounded-lg">
                            <i class="fas fa-dollar-sign text-accent-primary text-xl"></i>
                        </div>
                    </div>
                </div>
                
                <div class="bg-dark-200 rounded-lg p-6 shadow-lg border border-dark-100 hover:border-accent-primary transition-colors">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-400 text-sm">Return Requests</p>
                            <h3 class="text-2xl font-bold mt-1">24</h3>
                            <p class="text-red-500 text-xs mt-2">↑ 3% from last month</p>
                        </div>
                        <div class="bg-dark-100 p-3 rounded-lg">
                            <i class="fas fa-undo text-accent-primary text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Recent Orders Section -->
            <div class="mt-8">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-semibold">Recent Orders</h2>
                    <a href="#" class="text-accent-primary hover:text-accent-secondary text-sm">View All</a>
                </div>
                <div class="bg-dark-200 rounded-lg shadow-lg overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr class="bg-dark-100">
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Order ID</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Customer</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Date</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Amount</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Status</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Action</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-dark-100">
                                <tr class="hover:bg-dark-100 transition-colors">
                                    <td class="px-4 py-3 whitespace-nowrap">#ORD-7895</td>
                                    <td class="px-4 py-3 whitespace-nowrap">John Doe</td>
                                    <td class="px-4 py-3 whitespace-nowrap">Apr 5, 2025</td>
                                    <td class="px-4 py-3 whitespace-nowrap">$125.00</td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <span class="px-2 py-1 text-xs rounded-full bg-green-900 text-green-300">Delivered</span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <a href="#" class="text-accent-primary hover:text-accent-secondary">View</a>
                                    </td>
                                </tr>
                                <tr class="hover:bg-dark-100 transition-colors">
                                    <td class="px-4 py-3 whitespace-nowrap">#ORD-7894</td>
                                    <td class="px-4 py-3 whitespace-nowrap">Jane Smith</td>
                                    <td class="px-4 py-3 whitespace-nowrap">Apr 5, 2025</td>
                                    <td class="px-4 py-3 whitespace-nowrap">$89.50</td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <span class="px-2 py-1 text-xs rounded-full bg-blue-900 text-blue-300">Shipped</span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <a href="#" class="text-accent-primary hover:text-accent-secondary">View</a>
                                    </td>
                                </tr>
                                <tr class="hover:bg-dark-100 transition-colors">
                                    <td class="px-4 py-3 whitespace-nowrap">#ORD-7893</td>
                                    <td class="px-4 py-3 whitespace-nowrap">Robert Johnson</td>
                                    <td class="px-4 py-3 whitespace-nowrap">Apr 4, 2025</td>
                                    <td class="px-4 py-3 whitespace-nowrap">$245.75</td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <span class="px-2 py-1 text-xs rounded-full bg-yellow-900 text-yellow-300">Processing</span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <a href="#" class="text-accent-primary hover:text-accent-secondary">View</a>
                                    </td>
                                </tr>
                                <tr class="hover:bg-dark-100 transition-colors">
                                    <td class="px-4 py-3 whitespace-nowrap">#ORD-7892</td>
                                    <td class="px-4 py-3 whitespace-nowrap">Emily Davis</td>
                                    <td class="px-4 py-3 whitespace-nowrap">Apr 4, 2025</td>
                                    <td class="px-4 py-3 whitespace-nowrap">$78.25</td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <span class="px-2 py-1 text-xs rounded-full bg-red-900 text-red-300">Cancelled</span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <a href="#" class="text-accent-primary hover:text-accent-secondary">View</a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            {% endblock %}
        </main>
    </div>

    <!-- Logout Confirmation Modal -->
    <div id="logoutModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50 hidden">
        <div class="bg-dark-200 rounded-lg shadow-xl p-6 w-full max-w-md border border-dark-100">
            <div class="flex justify-between items-center">
                <h3 class="text-xl font-semibold text-gray-100">Logout Confirmation</h3>
                <button class="text-gray-400 hover:text-white" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <p class="mt-4 text-gray-300">Are you sure you want to log out?</p>
            <form method="post" action="{% url 'admin_logout' %}" class="mt-6">
                {% csrf_token %}
                <div class="flex justify-end space-x-4">
                    <button type="button" class="px-4 py-2 bg-dark-100 text-gray-300 rounded hover:bg-dark-300 transition-colors" onclick="closeModal()">Cancel</button>
                    <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors">Yes, log me out</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sidebar Toggle Functionality
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');
        const header = document.querySelector('header');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        let sidebarOpen = true;
        
        function toggleSidebar() {
            sidebarOpen = !sidebarOpen;
            
            if (sidebarOpen) {
                // Open sidebar
                sidebar.style.left = '0';
                mainContent.style.marginLeft = '16rem'; // 64px = 16rem
                header.style.left = '16rem';
                
                if (window.innerWidth < 768) {
                    sidebarOverlay.classList.remove('hidden');
                    document.body.style.overflow = 'hidden'; // Prevent scrolling when sidebar is open on mobile
                }
            } else {
                // Close sidebar
                sidebar.style.left = '-16rem';
                mainContent.style.marginLeft = '0';
                header.style.left = '0';
                
                sidebarOverlay.classList.add('hidden');
                document.body.style.overflow = ''; // Restore scrolling
            }
        }
        
        function closeSidebar() {
            if (window.innerWidth < 768 || !sidebarOpen) {
                sidebarOpen = false;
                sidebar.style.left = '-16rem';
                mainContent.style.marginLeft = '0';
                header.style.left = '0';
                sidebarOverlay.classList.add('hidden');
                document.body.style.overflow = '';
            }
        }
        
        document.getElementById('sidebarToggle').addEventListener('click', toggleSidebar);
        document.getElementById('closeSidebar').addEventListener('click', closeSidebar);
        
        // Responsive Sidebar
        function handleResize() {
            if (window.innerWidth < 768) {
                // Mobile view - sidebar closed by default
                closeSidebar();
            } else {
                // Desktop view - restore sidebar to user preference
                if (sidebarOpen) {
                    sidebar.style.left = '0';
                    mainContent.style.marginLeft = '16rem';
                    header.style.left = '16rem';
                } else {
                    sidebar.style.left = '-16rem';
                    mainContent.style.marginLeft = '0';
                    header.style.left = '0';
                }
                
                sidebarOverlay.classList.add('hidden');
                document.body.style.overflow = '';
            }
        }

        window.addEventListener('resize', handleResize);
        
        // Modal functions
        function openModal() {
            document.getElementById('logoutModal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('logoutModal').classList.add('hidden');
        }

        // Close the modal when clicking outside of it
        window.onclick = function(event) {
            if (event.target == document.getElementById('logoutModal')) {
                closeModal();
            }
        }
    </script>
</body>
</html>